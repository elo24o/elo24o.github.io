(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,a){e.exports=a(233)},233:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),i=a.n(o);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(232),l=a(108),s=a.n(l),u=a(109),d=a.n(u),m="#ED1C25",h="#FFF",g="#EFEFEF",p="#545454",b="#151515",f="Poppins",y="Poppins",v=1.7,x={regular:"14px",body2:"1em",h1:"2.75em",h2:"1.5em",button:"20px"},k={main:m,light:h,input:g,dark:p,black:b,contrastText:h},w={main:h,light:h,dark:m,input:g,black:b,contrastText:p},E=s()({type:"dark",primary:k,secondary:w,background:{default:k.main}}),O=d()(E,{fontFamily:f,useNextVariants:!0,lineHeight:1.7,body1:{fontFamily:y,lineHeight:v},body2:{fontFamily:y,fontSize:x.body2,lineHeight:v},h6:{fontFamily:y,lineHeight:v,fontWeight:"700"},inline:{fontFamily:f},h1:{fontSize:x.h1,fontFamily:y,lineHeight:v,fontWeight:"700"},h2:{fontSize:x.h2,lineHeight:v,fontWeight:"700"},h3:{fontSize:x.h2,fontFamily:y,lineHeight:v,fontWeight:"700"}}),j=Object(c.a)({typography:O,spacing:0,icon:8,mixins:{body:{color:E.primary.contrastText,fontFamily:f,lineHeight:v,width:"100%",height:"100vh",maxHeight:"100%",margin:0}},palette:E,overrides:{MuiIconButton:{root:{"&:hover":{backgroundColor:E.primary.main,boxShadow:"0px 0px 5px rgba(0, 0, 0, 0.6)"}}},MuiButton:{root:{borderRadius:"10vh",fontFamily:y,fontWeight:"700",minWidth:"100%",border:"2px solid",backgroundColor:E.primary.light,color:E.primary.main,borderColor:E.primary.main,fontSize:x.button,padding:O.body1.fontSize},flatPrimary:{backgroundColor:E.primary.light,color:E.primary.main,borderColor:E.primary.main,fontSize:x.button,padding:O.body1.fontSize},textSecondary:{backgroundColor:E.primary.main,color:E.primary.light,borderColor:E.primary.light,fontSize:x.button,padding:O.body1.fontSize,"&:hover":{backgroundColor:E.primary.light,color:E.primary.main,border:"2px solid",borderColor:E.primary.main}},textPrimary:{"&:hover":{color:E.primary.light,fontSize:x.button,border:"2px solid",borderColor:E.secondary.main}}},MuiFab:{label:{fontFamily:y,fontWeight:"700"},root:{textTransform:"none",boxShadow:"none",height:"36px",width:"36px",minHeight:"36px",backgroundColor:E.primary.light,opacity:"0.6"}},MuiPaper:{root:{backgroundColor:E.primary.light,text:E.primary.text},elevation4:{boxShadow:"none"}},MuiFormControl:{root:{color:E.primary.contrastText,backgroundColor:E.primary.light,width:"100%",borderRadius:"2em",padding:"10px",margin:"10px"}},MuiFormLabel:{root:{color:E.primary.dark,fontFamily:y,fontWeight:"700"}},MuiSpeedDial:{actions:{position:"absolute",marginTop:"2px !important",width:"24px","&$directionDown":{paddingTop:"24px"}},fab:{width:"24px",height:"24px",minHeight:"inherit",backgroundColor:E.primary.dark,opacity:"0.8"}},MuiSpeedDialAction:{button:{width:"24px",height:"24px",minHeight:"inherit",margin:"2px auto",backgroundColor:E.primary.dark,opacity:"0.8"}},MuiAppBar:{colorPrimary:{backgroundColor:E.primary.main,fontFamily:y,fontWeight:"700"},positionFixed:{left:"20px"}},MuiTypography:{h3:{color:E.primary.black},h1:{color:E.primary.light}},MuiCardMedia:{root:{backgroundSize:"contain",backgroundPosition:"top"}},MuiCardContent:{root:{"&:last-child":{paddingBottom:"default"}}}}}),S=a(110),C=a(113),H=a.n(C),P=a(42),W=a(43),z=a(74),F=a(73),A=a(50),T=(a(185),a(187),a(32)),I=a.n(T),R=new(function(){function e(){Object(P.a)(this,e),this.fieldConsentMap={firstName:"firstNameConsent",gender:"genderConsent",dob:"dobConsent",postcode:"postcodeConsent",mobile:"mobileConsent"}}return Object(W.a)(e,[{key:"setProfile",value:function(e){return localStorage.setItem("userProfile",JSON.stringify(e)),this}},{key:"parseProfile",value:function(e){var t=this,a=this.userProfile;return Object.keys(e).forEach(function(n){t.fieldConsentMap[n]&&(a[n]!==e[n]&&(a.preferences[t.fieldConsentMap[n]]=!0),a[n]=e[n])}),this.setProfile(a),this}},{key:"parsePreferences",value:function(e){var t=this.userProfile;return Object.keys(e).forEach(function(a){t.preferences[a]=e[a]}),this.setProfile(t),this}},{key:"isExisting",value:function(){return this.userProfile&&!0}},{key:"userId",value:function(){return I.a.get(this.userProfile,"userId")}},{key:"userProfile",get:function(){var e=localStorage.getItem("userProfile");try{return JSON.parse(e)}catch(t){return{}}}}]),e}()),N=a(287),L=a(288),B=a(291),M=a(292),D=a(57),_=a.n(D),U=a(87),q=a(29),J=a(11),V=a(52),G=function(e){return I.a.merge(function(e){return{"@global":{body:{backgroundColor:e.palette.background.default,color:e.palette.primary.contrastText,fontFamily:f,lineHeight:v,width:"100%",height:"100vh",maxHeight:"100%",margin:0},a:{textDecoration:"none",color:"inherit"},h1:{fontFamily:y,fontWeight:"700"},"#root":{height:"100%"}},root:{flexGrow:1,minHeight:"calc(100vh - 56px)"}}}(e),{gridItem:{padding:e.spacing(2),margin:"20px auto",textAlign:"left","&:first-child":{marginTop:"0px"}},logo:{height:"4em",marginBlockStart:"0.67em",marginBlockEnd:"0.67em"}})},$=a(290),Y=a(5),K=a(289),Q=a(277),X=a(267),Z=a(274),ee=a(278),te=a(293),ae=a(279),ne=a(286),re=a(283),oe=a(280),ie=a(281),ce=a(282),le=a(75),se=a(114),ue=a.n(se),de=a(2),me=a.n(de);function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(A.a)(e);if(t){var r=Object(A.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(F.a)(this,a)}}var ge={enter:500,exit:500},pe=function(e){Object(z.a)(a,e);var t=he(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={checked:!1},e.handleChange=function(t){t?e.setState({checked:!0}):e.setState({checked:!t})},e}return Object(W.a)(a,[{key:"componentWillUnmount",value:function(){this.setState({checked:!1})}},{key:"render",value:function(){var e=this.state.checked,t=this.props,a=t.timeout,n=t.classes,o=Object(le.a)(t,["timeout","classes"]),i=a||ge;return r.a.createElement(ue.a,{intervalDelay:1e3,onChange:this.handleChange},r.a.createElement(X.a,{in:e,timeout:i},r.a.createElement("img",Object.assign({className:n.image},o,{onLoad:this.handleChange,alt:""}))))}}],[{key:"propTypes",get:function(){return{timeout:me.a.number,classes:me.a.object}}}]),a}(n.Component),be=Object(Y.a)(function(){return{image:{maxWidth:"100%"}}})(pe),fe=a(272),ye={secondary:"dashboard_club_logo.svg",primary:"club_logo_white.svg",root:"club_logo_white.svg"};var ve=function(e){var t=e.color,a=e.href,n=Object(le.a)(e,["color","href"]),o=I.a.get(ye,t,ye.root);return a?r.a.createElement("a",{href:a},r.a.createElement(be,Object.assign({src:"".concat(o)},n))):r.a.createElement(fe.a,{to:"/"},r.a.createElement(be,Object.assign({src:"".concat(o)},n)))},xe=(a(194),a(88)),ke=a.n(xe),we=a(116),Ee=a.n(we),Oe=a(72),je="rgb(237, 41, 37)",Se=function(e){return new Promise(function(t){return setTimeout(t,e)})};var Ce=Object(Y.a)(function(e){var t,a,n,r=G(e);return Object(V.a)({},r,{"@global":Object(V.a)({},r["@global"],{body:Object(V.a)({},r["@global"].body,{backgroundColor:je}),"#root":{backgroundColor:je}}),downloadWidget:{width:"250px",padding:"0"},mainHeader:{margin:"0px",textAlign:"center",color:"white",lineHeight:1,paddingBottom:e.spacing(2)},thanksHeader:{margin:"0px",textAlign:"center",color:"white",lineHeight:1,paddingLeft:"10vw",paddingRight:"10vw",paddingBottom:e.spacing(1)},thanksHeader2:{margin:"0px",textAlign:"center",color:"white",lineHeight:1,paddingLeft:"10vw",paddingRight:"10vw",paddingBottom:e.spacing(3)},unsubscribeSuccessful:{margin:"0px",textAlign:"center",color:"white",lineHeight:1,paddingBottom:e.spacing(3)},secondHeader:{fontWeight:200,lineHeight:1,fontSize:"1.2em",paddingBottom:"2vmax",textAlign:"center",color:"white"},secondHeaderOpt:{fontWeight:200,lineHeight:1,fontSize:"1em",textAlign:"center",color:"white"},thirdHeader:{fontWeight:400,lineHeight:1,fontSize:"1em",margin:"0px",textAlign:"center",color:"white"},enterButton:Object(J.a)({maxWidth:"calc(100% / 3 * 2)",width:"calc(100% / 3 * 2)",display:"inline-block",textTransform:"initial"},e.breakpoints.down("sm"),{width:"100%",maxWidth:"100%"}),boldText:{fontFamily:f,paddingTop:e.typography.body1.fontSize,paddingBottom:e.typography.body1.fontSize,textAlign:"center"},mainBox:Object(J.a)({padding:"6vmax 4vmax 0vmax 4vmax",textAlign:"right"},e.breakpoints.down("sm"),{padding:"0vmax",textAlign:"center"}),bottomBox:{padding:"0vmax 4vmax 0vmax 4vmax",textAlign:"right"},introPage:(t={background:"url('LandingPage3g_blank.png') center center",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 0%",backgroundAttachment:"fixed",width:"100%",height:"60vh",padding:e.spacing(3)},Object(J.a)(t,e.breakpoints.down("xs"),{height:"65vh"}),Object(J.a)(t,e.breakpoints.down("sm"),{height:"80vh"}),Object(J.a)(t,e.breakpoints.down("md"),{height:"75vh"}),Object(J.a)(t,e.breakpoints.up("md"),{height:"78vh"}),Object(J.a)(t,e.breakpoints.up("lg"),{height:"80vh"}),Object(J.a)(t,e.breakpoints.up("xl"),{height:"90vh"}),Object(J.a)(t,"backgroundColor",je),t),logo:Object(V.a)({},r.logo,{position:"fixed",padding:"2em",top:0,left:0}),footer:(a={backgroundColor:"rgb(237, 41, 37)",position:"fixed",height:"40vh",bottom:0,padding:e.spacing(3),paddingTop:e.spacing(1)},Object(J.a)(a,e.breakpoints.down("xs"),{height:"30vh"}),Object(J.a)(a,e.breakpoints.down("sm"),{height:"35vh"}),Object(J.a)(a,e.breakpoints.down("md"),{height:"25vh"}),Object(J.a)(a,e.breakpoints.up("md"),{height:"22vh"}),Object(J.a)(a,e.breakpoints.up("lg"),{height:"20vh"}),Object(J.a)(a,e.breakpoints.up("xl"),{height:"10vh"}),a),footerText:(n={fontWeight:"200",paddingLeft:"10vw",paddingRight:"10vw"},Object(J.a)(n,e.breakpoints.down("sm"),{paddingLeft:"0",paddingRight:"0",textAlign:"justify"}),Object(J.a)(n,"lineHeight",1.5),Object(J.a)(n,"fontSize","1em"),Object(J.a)(n,"margin","0px"),Object(J.a)(n,"textAlign","center"),Object(J.a)(n,"maxWidth","800vw"),Object(J.a)(n,"color","white"),Object(J.a)(n,"& a",{fontWeight:"600"}),n),root:{height:"200px"},edt:{margin:"0px",padding:"0px",color:"black"},"MuiFilledInput-input":{padding:"0px"},"#outlined-basic":{padding:"0px"},form:{background:"transparent"}})})(Object(K.a)()(Object(Oe.b)(function(e){var t=e.classes,a=e.enqueueSnackbar,o=e.location,i=Object(n.useState)(!1),c=Object(q.a)(i,2),l=c[0],s=c[1],u=Object(n.useState)(!0),d=Object(q.a)(u,2),m=d[0],h=d[1],g=Object(n.useState)(!1),p=Object(q.a)(g,2),b=p[0],f=p[1],y=r.a.useState("0"),v=Object(q.a)(y,2),x=v[0],k=v[1],w=r.a.useState(""),E=Object(q.a)(w,2),O=E[0],S=E[1],C=r.a.useState({}),H=Object(q.a)(C,2),P=H[0],W=H[1],z=r.a.useState(!1),F=Object(q.a)(z,2),A=F[0],T=F[1],R=r.a.useState(!1),N=Object(q.a)(R,2),L=N[0],B=N[1],M=Ee.a.parse(o.search),D=function(e){k(e.target.value)},J=function(){var e=Object(U.a)(_.a.mark(function e(t){return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),B(!0),e.next=4,ke.a.post("https://q59ika3v5f.execute-api.eu-west-1.amazonaws.com/V2/bbz_customer/email-unsubscribe",Object(V.a)({},P,{reason:x,txtReason:O}),{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Credentials":!0}});case 4:200===e.sent.status?T(!0):a("Unsubscription failed. Please try again later.",{variant:"error"});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(U.a)(_.a.mark(function e(){var t,n;return _.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=I.a.has(M,"mk"),h(!0),f(t),!t){e.next=14;break}return e.next=7,ke()("".concat("https://q59ika3v5f.execute-api.eu-west-1.amazonaws.com/V2/bbz_customer/email-unsubscribe","?mk=").concat(M.mk));case 7:return n=e.sent,W({member:n.data.member,log:n.data.log}),e.next=11,Se(1e3);case 11:s(!0),e.next=15;break;case 14:a("Unsubscription failed. Please try again later.",{variant:"error"});case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),a("Unsubscription failed. Please try again later.",{variant:"error"});case 20:return e.prev=20,h(!1),e.finish(20);case 23:case"end":return e.stop()}},e,null,[[0,17,20,23]])}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){G()},{}),r.a.createElement($.a,{theme:j},r.a.createElement(Q.a,{container:!0,direction:"row",justify:"center",className:t.introPage,alignItems:"flex-end"},r.a.createElement(Q.a,{item:!0,xs:12},!m&&l&&b&&r.a.createElement(X.a,{in:!0,direction:"up",timeout:500},r.a.createElement("div",null,r.a.createElement(Z.a,{variant:"h3",className:t.mainHeader},"We Hate Goodbyes!"),r.a.createElement(Z.a,{variant:"h2",className:t.secondHeader},"And really don't want to lose you - but we can take a hint"),!A&&r.a.createElement(Z.a,{variant:"h1",className:t.unsubscribeSuccessful},"Unsubscribe Successful"),!A&&r.a.createElement(Z.a,{variant:"h2",className:t.secondHeaderOpt},"If you have a moment please let us know why you are leaving:"),A&&r.a.createElement(Q.a,{container:!0,justify:"center",alignItems:"flex-start"},r.a.createElement(Z.a,{variant:"h2",className:t.unsubscribeSuccessful},"Thanks for the information.")),!A&&r.a.createElement(Q.a,{container:!0,justify:"center",alignItems:"flex-start"},r.a.createElement("form",{onSubmit:J},r.a.createElement(ee.a,{component:"fieldset",className:t.form},r.a.createElement(te.a,{"aria-label":"reason",name:"reason1"},r.a.createElement(ae.a,{value:"0",control:r.a.createElement(ne.a,null),onChange:D,label:"I no longer want to receive these emails"}),r.a.createElement(ae.a,{value:"1",control:r.a.createElement(ne.a,null),onChange:D,label:"I never signed up for this mailing list"}),r.a.createElement(ae.a,{value:"2",control:r.a.createElement(ne.a,null),onChange:D,label:"The emails are inappropriate"}),r.a.createElement(ae.a,{value:"3",control:r.a.createElement(ne.a,null),onChange:D,label:"The emails are spam"}),r.a.createElement(ae.a,{value:"4",control:r.a.createElement(ne.a,null),onChange:D,label:"Other (fill in reason below)"})),"4"===x&&r.a.createElement(re.a,{className:t.edt,onChange:function(e){S(e.target.value)},value:O,id:"outlined-basic",variant:"filled",size:"small",InputProps:{disableUnderline:!0,margin:"dense",inputProps:{style:{padding:"5%",paddingTop:"13px",paddingBottom:"13px"}},style:{color:"black",backgroundColor:"transparent",paddingLeft:"10px"}}}),r.a.createElement(oe.a,null),r.a.createElement("div",null,L&&r.a.createElement(ie.a,{color:"white",style:{display:"block",margin:"auto"}}),!L&&r.a.createElement(ce.a,{type:"submit",variant:"outlined",color:"primary",disabled:L},"Submit"))))),A&&r.a.createElement(Z.a,{variant:"h4",className:t.thirdHeader},"Even though you are unsubscribed, we can still be friends."),A&&r.a.createElement(Z.a,{variant:"h4",className:t.thirdHeader},"(less the benefits). And you are welcome back anytime"))),!m&&!l&&b&&r.a.createElement(X.a,{in:!0,direction:"up",timeout:500},r.a.createElement("div",null,r.a.createElement(Z.a,{variant:"h1",className:t.mainHeader},"OH DEAR!"),r.a.createElement(Z.a,{variant:"h2",className:t.secondHeader},"You tried to say goodbye but there seems to have been some problems with processing the request."))))),r.a.createElement(ve,{color:"primary",href:"https://www.bargainbooze.co.uk/club/",className:t.logo}),r.a.createElement(Q.a,{container:!0,className:t.footer,justify:"center",alignItems:"flex-start"},!m&&r.a.createElement(Q.a,{item:!0},r.a.createElement(Z.a,{variant:"body1",color:"secondary",className:t.footerText},l&&r.a.createElement("span",null,"We have unsubscribed your email address\xa0"),!l&&r.a.createElement("span",null,"We suggest you try again but if you continue to face issues you can email us at:\xa0",r.a.createElement("a",{href:"mailto:gdpr@bestwayretail.co.uk"},"gdpr@bestwayretail.co.uk"),"\xa0and we will unsubscribe your email address\xa0"),"from future communications from Bestway Retail Ltd (please note it can take up to 24 hours for this change to be processed) For more information about how we process personal information and use cookies, please read our\xa0",r.a.createElement("a",{href:"https://www.bargainbooze.co.uk/wp-content/uploads/2020/02/privacypolicy.pdf"},"Privacy Policy\xa0"),l&&r.a.createElement("span",null,"or send us an email to\xa0",r.a.createElement("a",{href:"mailto:gdpr@bestwayretail.co.uk"},"gdpr@bestwayretail.co.uk"))))))})));function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var a,n=Object(A.a)(e);if(t){var r=Object(A.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(F.a)(this,a)}}var Pe=function(e){Object(z.a)(a,e);var t=He(a);function a(){var e;Object(P.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isLoggedIn:!1},e.handleLogin=function(t){R.setProfile(t),e.setState({isLoggedIn:R.isExisting()})},e.handleLogout=function(){R.setProfile(null),e.setState({isLoggedIn:R.isExisting()})},e}return Object(W.a)(a,[{key:"componentWillMount",value:function(){this.setState({isLoggedIn:R.isExisting()})}},{key:"renderWithRedirect",value:function(e,t){return this.state.isLoggedIn?r.a.createElement(e,t):r.a.createElement(N.a,{to:"/login"})}},{key:"renderLoginWithRedirect",value:function(e,t){return this.state.isLoggedIn?r.a.createElement(N.a,{to:"/main"}):r.a.createElement(e,Object.assign({},t,{onLoginSuccess:this.handleLogin}))}},{key:"render",value:function(){return r.a.createElement(Oe.a,{anchorOrigin:{vertical:"top",horizontal:"right"},maxSnack:1},r.a.createElement(L.a,{basename:"".concat("/")},r.a.createElement(B.a,null,r.a.createElement(M.a,{exact:!0,path:"/",component:Ce}))))}}]),a}(r.a.Component);H.a.config(),i.a.render(r.a.createElement(S.ThemeProvider,{theme:j},r.a.createElement(Pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[125,2,1]]]);
//# sourceMappingURL=main.da3de049.chunk.js.map